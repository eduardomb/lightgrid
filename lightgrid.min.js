!function(a){"use strict";a.fn.lightgrid=function(b){var c=a.extend({cols:3,hSpacing:10,vSpacing:10,selector:"div",aspectRatio:1,hBox:0,resize:!1},b),d=2*c.vSpacing,e=2*c.hSpacing,f=this,g=(this.width()-(c.cols-1)*d)/c.cols,h=c.hBox?c.hBox:g*c.aspectRatio,i=a(c.selector,this),j=0,k=function(a){j=Math.max(j,a.data("x")+a.data("rows")),a.css({position:"absolute",display:"block",width:a.data("cols")*(g+d)-d,height:a.data("rows")*(h+e)-e,left:a.data("y")*(g+d),top:a.data("x")*(h+e)})},l=function(){var a={};return function(b,c,d){d||(d="noId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}();return"fixed"==this.css("position")?(a.error("Grid objects can't have position: fixed on CSS."),this):("static"==this.css("position")&&this.css("position","relative"),i.length?(i.each(function(){k(a(this))}),this.height(j*(h+e)),c.resize&&a(window).resize(function(){l(function(){g=(f.width()-(c.cols-1)*d)/c.cols,h=c.hBox?c.hBox:g*c.aspectRatio,i.each(function(){k(a(this))})})}),this):this)}}(jQuery);